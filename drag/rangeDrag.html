<div class="wrapper"><div id="dragCircle">Drag me</div></div>

<style>
  .wrapper {
    border: 1px solid red;
    width: 240px;
    height: 240px;
    margin: 50px;
  }

  #dragCircle {
    width: 100px;
    height: 100px;
    /* border-radius: 50%; */
    background: #bcbcbc;
    position: absolute;
    text-align: center;
    line-height: 100px;
  }
</style>

<script>
  function posLeft(obj) {
    var iLeft = 0;
    while (obj) {
      iLeft += obj.offsetLeft;
      obj = obj.offsetParent;
      if (obj && obj != document.body && obj != document.documentElement) {
        iLeft += getStyle(obj, "borderLeftWidth");
      }
    }
    return iLeft;
  }

  function posTop(obj) {
    var iTop = 0;
    while (obj) {
      iTop += obj.offsetTop;
      obj = obj.offsetParent;
      if (obj && obj != document.body && obj != document.documentElement) {
        iTop += getStyle(obj, "borderTopWidth");
      }
    }
    return iTop;
  }

  function getStyle(obj, attr) {
    if (obj.currentStyle) {
      return parseFloat(obj.currentStyle[attr]) || 0;
    }
    return parseFloat(getComputedStyle(obj)[attr]) || 0;
  }

  window.onload = function() {
    var dragCircle = document.getElementById("dragCircle");
    var wrapper = document.querySelector(".wrapper");
    var range = {
      left: posLeft(wrapper),
      right: posLeft(wrapper) + wrapper.offsetWidth - dragCircle.offsetWidth,
      top: posTop(wrapper),
      bottom: posTop(wrapper) + wrapper.offsetHeight - dragCircle.offsetHeight
    };
    dragCircle.onmousedown = function(ev) {
      var ev = ev || window.event;
      var relaX = ev.clientX - this.offsetLeft;
      var relaY = ev.clientY - this.offsetTop;

      document.onmousemove = function(ev) {
        var ev = ev || window.event;
        dragCircle.style.left = ev.clientX - relaX + "px";
        dragCircle.style.top = ev.clientY - relaY + "px";

        if (ev.clientX - relaX < range.left) {
          dragCircle.style.left = range.left + "px";
        }
        if (ev.clientX - relaX > range.right) {
          dragCircle.style.left = range.right + "px";
        }
        if (ev.clientY - relaY < range.top) {
          dragCircle.style.top = range.top + "px";
        }
        if (ev.clientY - relaY > range.bottom) {
          dragCircle.style.top = range.bottom + "px";
        }
      };
      document.onmouseup = function(ev) {
        var ev = ev || window.event;
        document.onmousemove = null;
        document.onmouseup = null;
      };
    };

    document.onmousedown = function(e) {
      var e = e || window.event;
      console.log(`(${e.clientX}, ${e.clientY})`);
    };
  };
</script>
